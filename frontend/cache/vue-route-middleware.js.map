{
  "version": 3,
  "sources": ["../node_modules/vue-route-middleware/src/index.js", "dep:vue-route-middleware"],
  "sourcesContent": ["class VueRouteMiddleware {\r\n\r\n    /**\r\n     * Set instance properties and call defined \r\n     * middlewares on matching routes\r\n     * \r\n     * @param {object} definedMiddlewares \r\n     * @param {object} to \r\n     * @param {object} from \r\n     * @param {function|undefined} next\r\n     * \r\n     * @var {object} middlewares // predefined middlewares\r\n     * @var {boolean} nextHasCalled // if next was called in the middlewares\r\n     * @var {array} toMiddleware // arguments passed to middleware function\r\n     */\r\n    constructor(definedMiddlewares, to, from, next){\r\n        if(this._isObject(definedMiddlewares)){\r\n            this.middlewares = definedMiddlewares;\r\n        } else {\r\n            this._error('Defined middlewares must be of type Object!');\r\n            this.middlewares = {};\r\n        }\r\n        this.to = to;\r\n        this.from = from;\r\n        this.next = next;\r\n        this.nextHasCalled = false;\r\n        if(this.to && this.to.matched){ // Apply middleware if anu route matched\r\n            to.matched.every(route => this.applyRouteMiddlewares(route));\r\n        }\r\n        if(this.next && !this.nextHasCalled){ // call next if user didnt call it\r\n            this.callNext();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Function used to pass arguments to middlewares with spred syntax\r\n     * \r\n     * @return {array}\r\n     */\r\n    toMiddleware(){\r\n        return [ \r\n            this.to, \r\n            this.from, \r\n            this._isFunction(this.next) ? \r\n                this.callNext.bind(this) : undefined\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * Function that is passed to middleware as a next function wrapper\r\n     * toggling `nextHasCalled` trigger\r\n     * \r\n     * @param  {...any} args\r\n     */\r\n    callNext(...args){\r\n        if(!this.nextHasCalled) this.nextHasCalled = true;\r\n        return this.next(...args);\r\n    };\r\n\r\n    /**\r\n     * Fuction applying middlewares of a single route and deciding\r\n     * if other matched routes should be checked as well\r\n     * \r\n     * @param {*} route \r\n     * \r\n     * @return {boolean}\r\n     */\r\n    applyRouteMiddlewares(route){\r\n        if(route.meta && route.meta.middleware){\r\n            let middlewareKeys = route.meta.middleware;\r\n            if(this._isArray(middlewareKeys)){\r\n                return middlewareKeys.every(middleware => this.applyMiddleware(middleware));\r\n            } else {\r\n                return this.applyMiddleware(middlewareKeys);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Function calling middlewares and deciding if middleware chain\r\n     * must be continued or stopped after first faliure\r\n     * \r\n     * @param {string|function} middleware \r\n     * \r\n     * @return {boolean}\r\n     */\r\n    applyMiddleware(middleware){\r\n        const result = this.getMiddleware(middleware)(...this.toMiddleware());\r\n        return result === undefined ? true : result;\r\n    }\r\n\r\n    /**\r\n     * Function to get middleware function.\r\n     * In case of function validation failure\r\n     * console the error and return empty function\r\n     * \r\n     * @param {string|function} middleware \r\n     * \r\n     * @return {function}\r\n     */\r\n    getMiddleware(middleware){\r\n        if(this._isString(middleware)){\r\n            if(this.middlewares.hasOwnProperty(middleware)){\r\n                if(this._isFunction(this.middlewares[middleware])){\r\n                    return this.middlewares[middleware];\r\n                } else {\r\n                    this._error(middleware+' is not a function!');\r\n                }\r\n            }\r\n        } else if(this._isFunction(middleware)) {\r\n            return middleware;\r\n        } else {\r\n            this._error('All middlewares must be functions!');\r\n        }\r\n        return () => true;\r\n    }\r\n\r\n    /**\r\n     * @param {string} text \r\n     * \r\n     * @return {boolean}\r\n     */\r\n    _error(text){\r\n        console.error(this.constructor.name + ': '+text);\r\n    }\r\n\r\n    /**\r\n     * @param {*} toCheck \r\n     * \r\n     * @return {boolean}\r\n     */\r\n    _isString(toCheck){\r\n        return typeof toCheck === \"string\" || toCheck instanceof String;\r\n    }\r\n\r\n    /**\r\n     * @param {*} toCheck \r\n     * \r\n     * @return {boolean}\r\n     */\r\n    _isArray(toCheck){\r\n        return Array.isArray(toCheck);\r\n    }\r\n\r\n    /**\r\n     * @param {*} toCheck \r\n     * \r\n     * @return {boolean}\r\n     */\r\n    _isFunction(toCheck){\r\n        return typeof toCheck === \"function\";\r\n    }\r\n\r\n    /**\r\n     * @param {*} toCheck \r\n     * \r\n     * @return {boolean}\r\n     */\r\n    _isObject(toCheck){\r\n        return typeof toCheck === \"object\" && toCheck !== null;\r\n    }\r\n};\r\n\r\nexport default (definedGroups = {}) => {\r\n    return (...toMiddleware) => new VueRouteMiddleware(definedGroups, ...toMiddleware);\r\n};", "export default require(\"./node_modules/vue-route-middleware/dist/index.js\");"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAAM,qBAAA,WAAA;AAeF,mCAAY,oBAAoB,IAAI,MAAM,MAAK;AAAA,YAAA,QAAA;AAAA,wBAAA,MAAA;AAC3C,YAAG,KAAK,UAAU,qBAAoB;AAClC,eAAK,cAAc;eAChB;AACH,eAAK,OAAO;AACZ,eAAK,cAAc;;AAEvB,aAAK,KAAK;AACV,aAAK,OAAO;AACZ,aAAK,OAAO;AACZ,aAAK,gBAAgB;AACrB,YAAG,KAAK,MAAM,KAAK,GAAG,SAAQ;AAC1B,aAAG,QAAQ,MAAM,SAAA,OAAA;AAAA,mBAAS,MAAK,sBAAsB;;;AAEzD,YAAG,KAAK,QAAQ,CAAC,KAAK,eAAc;AAChC,eAAK;;;;;uCASC;AACV,iBAAO,CACH,KAAK,IACL,KAAK,MACL,KAAK,YAAY,KAAK,QAClB,KAAK,SAAS,KAAK,QAAQ;;;;mCAUtB;AACb,cAAG,CAAC,KAAK;AAAe,iBAAK,gBAAgB;AAC7C,iBAAO,KAAK,KAAL,MAAA,MAAA;;;;8CAWW,OAAM;AAAA,cAAA,SAAA;AACxB,cAAG,MAAM,QAAQ,MAAM,KAAK,YAAW;AACnC,gBAAI,iBAAiB,MAAM,KAAK;AAChC,gBAAG,KAAK,SAAS,iBAAgB;AAC7B,qBAAO,eAAe,MAAM,SAAA,YAAA;AAAA,uBAAc,OAAK,gBAAgB;;mBAC5D;AACH,qBAAO,KAAK,gBAAgB;;;AAGpC,iBAAO;;;;wCAWK,YAAW;AACvB,cAAM,SAAS,KAAK,cAAc,YAAnB,MAAA,QAAA,mBAAkC,KAAK;AACtD,iBAAO,WAAW,SAAY,OAAO;;;;sCAY3B,YAAW;AACrB,cAAG,KAAK,UAAU,aAAY;AAC1B,gBAAG,KAAK,YAAY,eAAe,aAAY;AAC3C,kBAAG,KAAK,YAAY,KAAK,YAAY,cAAa;AAC9C,uBAAO,KAAK,YAAY;qBACrB;AACH,qBAAK,OAAO,aAAW;;;qBAGzB,KAAK,YAAY,aAAa;AACpC,mBAAO;iBACJ;AACH,iBAAK,OAAO;;AAEhB,iBAAO,WAAA;AAAA,mBAAM;;;;;+BAQV,MAAK;AACR,kBAAQ,MAAM,KAAK,YAAY,OAAO,OAAK;;;;kCAQrC,SAAQ;AACd,iBAAO,OAAO,YAAY,YAAY,mBAAmB;;;;iCAQpD,SAAQ;AACb,iBAAO,MAAM,QAAQ;;;;oCAQb,SAAQ;AAChB,iBAAO,OAAO,YAAY;;;;kCAQpB,SAAQ;AACd,iBAAO,QAAO,YAAP,cAAA,cAAA,QAAO,cAAY,YAAY,YAAY;;;;;sBAI3C,WAAwB;AAAA,UAAvB,gBAAuB,UAAA,SAAA,KAAA,UAAA,OAAA,SAAA,UAAA,KAAP;AAC5B,aAAO,WAAA;AAAA,iBAAA,OAAA,UAAA,QAAI,eAAJ,MAAA,OAAA,OAAA,GAAA,OAAA,MAAA,QAAA;AAAI,uBAAJ,QAAA,UAAA;;AAAA,eAAA,IAAA,UAAA,UAAA,KAAA,MAAyB,oBAAzB,CAAA,MAAA,OAAA,CAA4C,gBAAkB;;;;;;;ACrKzE,IAAO,+BAAQ;",
  "names": []
}
